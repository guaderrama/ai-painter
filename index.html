<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iván's Vision AI</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Spline+Sans%3Awght%40400%3B500%3B700&family=Be+Vietnam+Pro%3Awght%40400%3B500%3B700%3B900"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <style>
        .screen { display: none; }
        .screen.active { display: flex; }
    </style>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
</head>
<body style='font-family: "Spline Sans", "Noto Sans", sans-serif;'>

    <!-- Screen 1: Main Login -->
    <div id="login-screen" class="screen active relative size-full min-h-screen flex-col bg-[#111418] dark justify-between group/design-root overflow-x-hidden">
      <div>
        <h1 class="text-white tracking-light text-[32px] font-bold leading-tight px-4 text-center pb-3 pt-6">Iván's Vision AI</h1>
        <p class="text-white text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">Transform your photos into unique AI artworks.</p>
        <div class="flex overflow-y-auto [-ms-scrollbar-style:none] [scrollbar-width:none] [&amp;::-webkit-scrollbar]:hidden">
          <div class="flex items-stretch p-4 gap-3">
            <div class="flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60">
              <div
                class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-xl flex flex-col"
                style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuD7yPkzkhK7qRx7Gm21et05D4XIWoWh6XTXtMFalhrd1B46frwua3hfWc07s1vOXDnFYesH7lh13CR00V3VZwmI0s1CZbuNmSOGR-IC2s0OQMY828ZhrCOmnFL0z2AkoxzQpj1mjsRuR46udNSeVDwTQtU31gYZs2HHwQpYVZgXiNbxem_VgarJqAMiK-iq1gnf_ThDQrMSTsTXB_hZTIUPyKgcHGYuKv__c3jWDUQjh5yvUAxBEAfwTNfw_U44zP7408B3wsJL8dqR");'
              ></div>
              <p class="text-white text-base font-medium leading-normal">AI Painting</p>
            </div>
            <div class="flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60">
              <div
                class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-xl flex flex-col"
                style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBGk0muuixq4KBz0XZ1JscN52m_VwJwnCBGSIT3sxxo9lEXYYBnTQ2weJI5GuV2X43C-NxTsIAUqsCbUxI6GlilshVPunKDFK13VYciOra_o-Is9dBYPebaOFcUvGtN31-adnMZB-2tLlJgCBNdZLdlp7YLW2SoJrvITgExH5DK5dzrSxBV2zcxFt6HvoUvTfDM0gK9QuVVUmkcfpQiIqkDRardn_mJBr3al8eV1iDIGM_ZaD0tcqtG2wyIDa56odhEb419Z28VjL5k");'
              ></div>
              <p class="text-white text-base font-medium leading-normal">Original Photo</p>
            </div>
          </div>
        </div>
        <div class="flex justify-center">
          <div class="flex flex-1 gap-3 max-w-[480px] flex-col items-stretch px-4 py-3">
            <button
              id="login-google"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 bg-[#1980e6] text-white text-base font-bold leading-normal tracking-[0.015em] w-full"
            >
              <span class="truncate">Continue with Google</span>
            </button>
            <button
              id="login-email-main"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 bg-[#293038] text-white text-base font-bold leading-normal tracking-[0.015em] w-full"
            >
              <span class="truncate">Continue with Email</span>
            </button>
          </div>
        </div>
      </div>
      <div>
        <p class="text-[#9dabb8] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center">By continuing, you agree to our Terms of Service and Privacy Policy.</p>
        <div class="h-5 bg-[#111418]"></div>
      </div>
    </div>

    <!-- Screen 1.5: Email Login -->
    <div id="email-login-screen" class="screen relative size-full min-h-screen flex-col bg-[#111418] dark justify-start group/design-root overflow-x-hidden p-4">
        <div class="flex items-center w-full mb-8">
            <div id="back-to-main-login" class="text-white flex size-12 shrink-0 items-center cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>
            </div>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Sign In with Email</h2>
        </div>
        <div class="flex flex-col gap-4 w-full max-w-md mx-auto">
            <input id="login-email-input" type="email" placeholder="Email" class="w-full h-12 px-4 bg-[#293038] text-white rounded-xl border-none focus:ring-2 focus:ring-[#1980e6]">
            <input id="login-password-input" type="password" placeholder="Password" class="w-full h-12 px-4 bg-[#293038] text-white rounded-xl border-none focus:ring-2 focus:ring-[#1980e6]">
            <button id="email-login-button" class="flex items-center justify-center h-12 px-5 bg-[#1980e6] text-white text-base font-bold rounded-xl w-full">
                <span>Sign In</span>
            </button>
            <p id="login-error-message" class="text-red-500 text-sm text-center h-4"></p>
            <p class="text-center text-sm text-[#9dabb8]">
                Don't have an account? 
                <a id="go-to-signup" href="#" class="font-bold text-white">Sign Up</a>
            </p>
        </div>
    </div>

    <!-- Screen 1.6: Email Sign Up -->
    <div id="email-signup-screen" class="screen relative size-full min-h-screen flex-col bg-[#111418] dark justify-start group/design-root overflow-x-hidden p-4">
        <div class="flex items-center w-full mb-8">
            <div id="go-to-login-from-signup" class="text-white flex size-12 shrink-0 items-center cursor-pointer">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>
            </div>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Create Account</h2>
        </div>
        <div class="flex flex-col gap-4 w-full max-w-md mx-auto">
            <input id="signup-email-input" type="email" placeholder="Email" class="w-full h-12 px-4 bg-[#293038] text-white rounded-xl border-none focus:ring-2 focus:ring-[#1980e6]">
            <input id="signup-password-input" type="password" placeholder="Password" class="w-full h-12 px-4 bg-[#293038] text-white rounded-xl border-none focus:ring-2 focus:ring-[#1980e6]">
            <input id="signup-confirm-password-input" type="password" placeholder="Confirm Password" class="w-full h-12 px-4 bg-[#293038] text-white rounded-xl border-none focus:ring-2 focus:ring-[#1980e6]">
            <button id="email-signup-button" class="flex items-center justify-center h-12 px-5 bg-[#1980e6] text-white text-base font-bold rounded-xl w-full">
                <span>Sign Up</span>
            </button>
            <p id="signup-error-message" class="text-red-500 text-sm text-center h-4"></p>
            <p class="text-center text-sm text-[#9dabb8]">
                Already have an account? 
                <a id="go-to-login" href="#" class="font-bold text-white">Sign In</a>
            </p>
        </div>
    </div>

    <!-- Other screens... -->
    <div id="upload-screen" class="screen flex-col items-center justify-center min-h-screen bg-[#111418] text-white p-4">
        <button id="logout-button" class="absolute top-4 right-4 text-sm text-gray-400 hover:text-white">Logout</button>
        <div class="text-center">
            <h2 id="user-greeting" class="text-2xl font-bold mb-2">Hello!</h2>
            <p id="user-credits" class="text-lg mb-8">Loading credits...</p>
            
            <!-- This input is hidden, it's triggered by the button -->
            <input type="file" id="file-upload" class="hidden" accept="image/*" />

            <!-- This is the visible button the user clicks -->
            <button id="upload-button" class="bg-[#1980e6] text-white font-bold py-4 px-8 rounded-xl text-lg hover:bg-blue-700 transition duration-300">
                Transform Your Photo
            </button>
            <p class="text-sm text-gray-400 mt-4">Select a photo to begin the magic.</p>
        </div>
    </div>
    <div id="processing-screen" class="screen flex-col items-center justify-center min-h-screen bg-[#111418] text-white p-4 text-center">
        <svg class="animate-spin h-12 w-12 text-white mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <h2 class="text-2xl font-bold mb-2">Processing your masterpiece...</h2>
        <p id="loading-message" class="text-lg">Preparing the canvas...</p>
    </div>
    <div id="result-screen" class="screen relative size-full min-h-screen flex-col bg-[#111418] justify-between overflow-x-hidden">
        <div class="flex p-4">
            <button id="create-another" class="flex size-12 shrink-0 items-center justify-center rounded-xl text-white cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path>
                </svg>
            </button>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Your Artwork</h2>
        </div>
        <div class="flex flex-col items-center justify-center flex-1 px-4 pb-8">
            <div 
                id="result-image"
                class="w-full max-w-md bg-center bg-contain bg-no-repeat rounded-xl mb-6"
                style="background-color: #293038; min-height: 300px; max-height: 80vh;"
            ></div>
            <button 
                id="download-artwork"
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 bg-[#1980e6] text-white text-base font-bold leading-normal tracking-[0.015em] w-full max-w-md"
            >
                <span class="truncate">Download Artwork</span>
            </button>
        </div>
    </div>
    <div id="limit-screen" class="screen relative size-full min-h-screen flex-col bg-[#111418] justify-center items-center px-4">
        <div class="text-center">
            <h2 class="text-white text-2xl font-bold mb-4">Out of Credits</h2>
            <p class="text-[#9dabb8] text-base mb-6">You've used all your credits. Contact support to get more!</p>
            <button id="logout-from-limit" onclick="firebase.auth().signOut()" class="bg-[#293038] text-white font-bold py-3 px-6 rounded-xl hover:bg-gray-700 transition duration-300">
                Logout
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
